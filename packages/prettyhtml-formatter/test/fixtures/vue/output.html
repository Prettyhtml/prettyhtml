<template>
  <md-field
    :class="['md-datepicker', { 'md-native': !this.mdOverrideNative }]"
    md-clearable
  >
    <md-date-icon class="md-date-icon" @click.native="toggleDialog"></md-date-icon>
    <md-input
      :type="type"
      ref="input"
      v-model="inputDate"
      @focus.native="onFocus"
      :pattern="pattern"
    ></md-input>

    <slot></slot>

    <keep-alive>
      <md-datepicker-dialog
        v-if="showDialog"
        :md-date.sync="localDate"
        :md-disabled-dates="mdDisabledDates"
        :mdImmediately="mdImmediately"
        @md-closed="toggleDialog"
      ></md-datepicker-dialog>
    </keep-alive>

    <md-overlay
      class="md-datepicker-overlay"
      md-fixed
      :md-active="showDialog"
      @click="toggleDialog"
    ></md-overlay>
  </md-field>
</template>
